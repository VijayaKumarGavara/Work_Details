<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Details</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

</head>
<body>
    <h1>Work Details</h1>
    <table border="2px" style="text-align: center;" id="scheduleTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Day</th>
                <th>6:30 AM - 8:30 AM</th>
                <th>9:30 AM - 11:30 AM</th>
                <th>3:30 PM - 5:30 PM</th>
                <th>6:30 PM - 7:30 PM</th>
                <th>8:30 PM - 9:30 PM</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be added here -->
             
        </tbody>
    </table>

    <form id="workForm" onsubmit="Add_Work_Details(event)">
        <label for="mrng630">6:30 AM - 8:30 AM</label>
        <input type="text" id="mrng630"><br>
        
        <label for="mrng930">9:30 AM - 11:30 AM</label>
        <input type="text" id="mrng930"><br>
        
        <label for="noon330">3:30 PM - 5:30 PM</label>
        <input type="text" id="noon330"><br>
        
        <label for="evng630">6:30 PM - 7:30 PM</label>
        <input type="text" id="evng630"><br>
        
        <label for="nt830">8:30 PM - 9:30 PM</label>
        <input type="text" id="nt830"><br>
        
        <button type="submit">Add Work</button>
    </form>

    <script>
        function getCurrentDate() {
            let today = new Date();
            return today.toISOString().split('T')[0]; // Format: YYYY-MM-DD
        }

        function checkFormVisibility() {
            let lastAddedDate = localStorage.getItem("lastAddedDate");
            let todayDate = getCurrentDate();

            if (lastAddedDate === todayDate) {
                document.getElementById("workForm").style.display = "none"; // Hide form if today's details are added
            }
        }

        function Add_Work_Details(event) {
            event.preventDefault(); // Prevent form submission and page refresh

            let today = new Date();
            let date = getCurrentDate(); // YYYY-MM-DD format
            let day = today.toLocaleDateString('en-GB', { weekday: 'long' });

            let mrng630 = document.getElementById("mrng630").value;
            let mrng930 = document.getElementById("mrng930").value;
            let noon330 = document.getElementById("noon330").value;
            let evng630 = document.getElementById("evng630").value;
            let nt830 = document.getElementById("nt830").value;

            let table = document.getElementById("scheduleTable").getElementsByTagName('tbody')[0];

            let newRow = table.insertRow();
            newRow.innerHTML = `
                <td>${date}</td>
                <td>${day}</td>
                <td>${mrng630}</td>
                <td>${mrng930}</td>
                <td>${noon330}</td>
                <td>${evng630}</td>
                <td>${nt830}</td>
            `;

            localStorage.setItem("lastAddedDate", date); // Save today's date in local storage

            document.querySelector("form").reset();
            document.getElementById("workForm").style.display = "none"; // Hide form after adding details
        }

        document.addEventListener("DOMContentLoaded", checkFormVisibility); // Run on page load
    </script>
</body>
</html>
